(function(){"use strict";var e={3469:function(e,t,n){var r=n(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("ScanBarCode")],1)},a=[],i=n(9821),c=n.n(i),d=function(){var e=this,t=e._self._c;return t("div",[t("button",{on:{click:e.cameraStart}},[e._v("扫描二维码")]),e._m(0)])},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"box-card"},[t("video",{attrs:{id:"camera",autoplay:"",width:"300",height:"400"}}),t("canvas",{attrs:{id:"canvas",width:"800",height:"800",hidden:"hidden"}}),t("img",{staticStyle:{display:"none"},attrs:{id:"Tagimg",src:"",alt:""}})])])}],l=(n(1703),n(928)),u=n.n(l);console.log("Quagga:",u());var v={name:"ScanBarCode",data(){return{barCode:"",videoObj:null}},methods:{cameraStart(){let e=document.getElementById("camera"),t=document.getElementById("canvas"),n=t.getContext("2d");if(void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){let t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia||MediaDevices;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):(this.nav=!1,Promise.reject(new Error("getUserMedia is not implemented in this browser")))}),console.log("navigator.mediaDevices.getUserMedia:",navigator.mediaDevices.getUserMedia),navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia({audio:!1,video:{width:300,height:400}}).then((t=>{e.srcObject=t,e.onloadedmetadata=function(){e.play()}})).catch((e=>{alert("The following error occurred: "+e.name)}));else{const e=document.createElement("div");e.innerHTML="getUserMedia not supported",document.body.appendChild(e),alert("getUserMedia not supported")}setInterval((()=>{this.takePhoto(e,t,n)}),3e3)},takePhoto(e,t,n){n.drawImage(e,0,0);let r=t.toDataURL("image/png");console.log("imgurl:",r),this.analysisbarcode(r)},analysisbarcode(e){u().decodeSingle({src:e,numOfWorkers:0,inputStream:{size:800},decoder:{readers:["code_128_reader"]}},(function(e){console.log("result:",e),e.codeResult?console.log("result.codeResult:",e.codeResult):console.log("not detected")}))},forgetLove(){this.barCode=document.getElementById("barCode").value}}},f=v,g=n(1001),m=(0,g.Z)(f,d,s,!1,null,"4531d095",null),h=m.exports,p={name:"App",components:{ScanBarCode:h},mounted(){new(c())}},b=p,w=(0,g.Z)(b,o,a,!1,null,null,null),y=w.exports;r.ZP.config.productionTip=!1,new r.ZP({render:e=>e(y)}).$mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],o=e[l][1],a=e[l][2];for(var c=!0,d=0;d<r.length;d++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[d])}))?r.splice(d--,1):(c=!1,a<i&&(i=a));if(c){e.splice(l--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],c=r[1],d=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(d)var l=d(n)}for(t&&t(r);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},r=self["webpackChunkcollection"]=self["webpackChunkcollection"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3469)}));r=n.O(r)})();
//# sourceMappingURL=app.e5f08395.js.map